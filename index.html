<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Playlist Bridgeï½œä»–ã‚¢ãƒ—ãƒªã§ã‚‚åŒã˜ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆã‚’ä½œã‚Œã‚‹</title>
  <meta name="description" content="ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆURLã‚’è²¼ã‚‹ã ã‘ã€‚ç›¸æ‰‹ã¯è‡ªåˆ†ã®éŸ³æ¥½ã‚¢ãƒ—ãƒªã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã§ãã‚‹ï¼ˆTuneMyMusicå°ç·šï¼‰ï¼‹ãã®ã¾ã¾é–‹ãã‚‚ç”¨æ„ã€‚" />

  <!-- OGPï¼ˆå…±æœ‰ã§æ˜ ãˆã‚‹ï¼‰ -->
  <meta property="og:title" content="Playlist Bridgeï½œä»–ã‚¢ãƒ—ãƒªã§ã‚‚åŒã˜ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆã‚’ä½œã‚Œã‚‹" />
  <meta property="og:description" content="ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆURLã‚’è²¼ã‚‹ã ã‘ã€‚ç›¸æ‰‹ã¯è‡ªåˆ†ã®éŸ³æ¥½ã‚¢ãƒ—ãƒªã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã§ãã‚‹ï¼ˆâ‘¡ï¼‰ï¼‹ãã®ã¾ã¾é–‹ãï¼ˆâ‘ ï¼‰ã€‚" />
  <meta property="og:type" content="website" />
  <!-- â†“è‡ªåˆ†ã®å…¬é–‹URLã«å·®ã—æ›¿ãˆæ¨å¥¨ï¼ˆæœªè¨­å®šã§ã‚‚å‹•ãï¼‰ -->
  <meta property="og:url" content="" />

  <style>
    :root{
      --bg0:#020711;
      --bg1:#041a2b;
      --bg2:#061f3a;
      --card:rgba(255,255,255,.07);
      --card2:rgba(255,255,255,.05);
      --txt:rgba(255,255,255,.92);
      --mut:rgba(255,255,255,.72);
      --mut2:rgba(255,255,255,.55);
      --br:rgba(255,255,255,.14);
      --br2:rgba(255,255,255,.20);
      --glow:rgba(110,231,255,.25);
      --ok:#6ee7ff;
      --pink:#fb7185;
      --violet:#a78bfa;
      --mint:#34d399;
      --warn:#fbbf24;
      --shadow: rgba(0,0,0,.45);
      --radius: 24px;
    }
    *{box-sizing:border-box}
    html, body {height: 100%;}
    body{
      margin:0; color:var(--txt);
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI",
                   "Hiragino Sans", "Noto Sans JP", "Meiryo", Arial, sans-serif;
      background:
        radial-gradient(1200px 800px at 10% 10%, rgba(110,231,255,.16), transparent 60%),
        radial-gradient(900px 700px at 80% 25%, rgba(167,139,250,.14), transparent 55%),
        radial-gradient(900px 700px at 45% 95%, rgba(52,211,153,.10), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1) 40%, var(--bg2));
      overflow-x:hidden;
    }

    /* ===== Animated Deep Sea Background ===== */
    .bg{
      position:fixed; inset:0; pointer-events:none; z-index:-2;
      background:
        radial-gradient(3px 3px at 12% 18%, rgba(255,255,255,.25), transparent 60%),
        radial-gradient(2px 2px at 82% 35%, rgba(255,255,255,.22), transparent 60%),
        radial-gradient(2px 2px at 55% 70%, rgba(255,255,255,.18), transparent 60%),
        radial-gradient(3px 3px at 25% 82%, rgba(255,255,255,.20), transparent 60%);
      opacity:.7;
      filter: blur(.2px);
      animation: drift 14s ease-in-out infinite alternate;
    }
    @keyframes drift{ from{transform:translateY(0)} to{transform:translateY(-22px)} }

    .waves{
      position:fixed; inset:-30% -20% -30% -20%;
      z-index:-3; pointer-events:none;
      background:
        radial-gradient(900px 400px at 20% 30%, rgba(110,231,255,.10), transparent 60%),
        radial-gradient(800px 380px at 85% 55%, rgba(167,139,250,.09), transparent 62%),
        radial-gradient(700px 360px at 55% 75%, rgba(52,211,153,.06), transparent 62%);
      animation: slowspin 40s linear infinite;
      opacity:.8;
      filter: blur(10px);
    }
    @keyframes slowspin{ from{transform:rotate(0deg)} to{transform:rotate(360deg)} }

    /* ===== Jellyfish swarm (CSS animated) ===== */
    .jelly-swarm{
      position:fixed; inset:0; pointer-events:none; z-index:-1;
      overflow:hidden;
    }
    .jelly{
      position:absolute;
      width:72px; height:92px;
      opacity:.85;
      filter: drop-shadow(0 14px 20px rgba(0,0,0,.35));
      animation: floatUp linear infinite;
      transform: translateZ(0);
    }
    .jelly .bell{
      width:100%; height:52px;
      border-radius: 40px 40px 24px 24px;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,.70), rgba(255,255,255,.20) 35%, rgba(110,231,255,.26) 70%, rgba(167,139,250,.18));
      border: 1px solid rgba(255,255,255,.18);
      box-shadow: 0 0 0 1px rgba(110,231,255,.06), 0 0 26px rgba(110,231,255,.10);
      position:relative;
      overflow:hidden;
    }
    .jelly .bell:after{
      content:"";
      position:absolute; inset:-40% -40% auto -40%;
      height:90px;
      background: radial-gradient(circle at 40% 70%, rgba(110,231,255,.30), transparent 60%);
      transform: rotate(10deg);
      opacity:.8;
    }
    .jelly .tentacles{
      position:absolute; left:50%; top:48px; transform:translateX(-50%);
      width:90%; height:44px;
      display:flex; justify-content:space-between;
      padding:0 10px;
    }
    .t{
      width:6px; height:46px;
      border-radius: 999px;
      background: linear-gradient(180deg, rgba(110,231,255,.25), rgba(167,139,250,.16), transparent 90%);
      border: 1px solid rgba(255,255,255,.08);
      animation: wiggle 2.2s ease-in-out infinite;
      transform-origin: top;
      opacity:.9;
    }
    .t:nth-child(2){animation-delay:.25s}
    .t:nth-child(3){animation-delay:.5s}
    .t:nth-child(4){animation-delay:.1s}
    @keyframes wiggle{
      0%,100%{ transform: rotate(-5deg) }
      50%{ transform: rotate(7deg) }
    }
    @keyframes floatUp{
      from{ transform: translate3d(0, 120vh, 0) rotate(0deg); }
      to  { transform: translate3d(0, -30vh, 0) rotate(8deg); }
    }

    /* Optional: real GIF overlay (put your gifs in /assets if you want) */
    .gif-jelly{
      position:absolute;
      width:84px; height:84px;
      opacity:.55;
      pointer-events:none;
      animation: floatUp linear infinite;
      filter: drop-shadow(0 16px 22px rgba(0,0,0,.35));
      border-radius: 18px;
      mix-blend-mode: screen;
    }

    /* ===== Layout ===== */
    .wrap{max-width:1040px; margin:0 auto; padding:26px 16px 70px}
    header{
      display:flex; gap:14px;
      align-items:center; justify-content:space-between; flex-wrap:wrap;
      margin-bottom:14px;
    }
    .brand{display:flex; gap:12px; align-items:center}
    .logo{
      width:48px; height:48px; border-radius:18px;
      background:
        radial-gradient(circle at 25% 25%, rgba(110,231,255,.95), rgba(110,231,255,.25) 45%, rgba(167,139,250,.18) 75%, rgba(255,255,255,.06));
      border:1px solid rgba(255,255,255,.16);
      box-shadow: 0 0 0 1px rgba(110,231,255,.10), 0 0 44px rgba(110,231,255,.18);
      position:relative;
    }
    .logo:after{
      content:"";
      position:absolute; right:10px; top:10px;
      width:10px; height:10px; border-radius:50%;
      background:rgba(255,255,255,.62);
      opacity:.8;
    }
    h1{margin:0; font-size:18px}
    .tag{color:var(--mut); font-size:13px; margin-top:2px}
    .pill{
      padding:8px 10px;
      border-radius:999px;
      border:1px solid var(--br);
      background: rgba(255,255,255,.05);
      color: var(--mut);
      font-size:12px;
      backdrop-filter: blur(6px);
    }

    main{display:grid; grid-template-columns: 1.15fr .85fr; gap:14px}
    @media (max-width:900px){ main{grid-template-columns:1fr} }

    .card{
      border:1px solid var(--br);
      background: linear-gradient(180deg, var(--card), var(--card2));
      border-radius: var(--radius);
      box-shadow: 0 14px 55px var(--shadow);
      padding:16px;
      position:relative;
      overflow:hidden;
      backdrop-filter: blur(10px);
    }
    .card:before{
      content:""; position:absolute; inset:-1px;
      background: radial-gradient(760px 220px at 10% 0%, rgba(110,231,255,.18), transparent 60%);
      pointer-events:none;
      opacity:.85;
    }
    .hero{
      padding:18px 16px;
      border-radius: var(--radius);
      border:1px solid rgba(255,255,255,.16);
      background:
        radial-gradient(700px 260px at 15% 10%, rgba(110,231,255,.20), transparent 60%),
        radial-gradient(620px 240px at 85% 30%, rgba(167,139,250,.18), transparent 58%),
        linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.04));
      box-shadow: 0 12px 45px rgba(0,0,0,.35);
      position:relative;
      overflow:hidden;
    }
    .hero h2{margin:0 0 6px; font-size:18px}
    .hero p{margin:0; color:var(--mut); font-size:13px; line-height:1.65}
    .hero .spark{
      position:absolute; right:-30px; top:-30px;
      width:140px; height:140px; border-radius:50%;
      background: radial-gradient(circle at 40% 40%, rgba(110,231,255,.35), transparent 70%);
      filter: blur(2px);
      opacity:.9;
    }

    label{display:block; font-size:12px; color:var(--mut); margin:12px 0 6px}
    input[type="url"]{
      width:100%;
      padding:12px 12px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.18);
      outline:none;
      background: rgba(0,0,0,.22);
      color: var(--txt);
      font-size:14px;
      box-shadow: inset 0 0 0 1px rgba(0,0,0,.12);
    }
    input[type="url"]::placeholder{color:rgba(255,255,255,.38)}
    input[type="url"]:focus{
      border-color: rgba(110,231,255,.42);
      box-shadow: 0 0 0 3px rgba(110,231,255,.10);
    }

    .row{display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-top:10px}
    button, a.btn{
      appearance:none;
      border:1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.06);
      color: var(--txt);
      padding:10px 12px;
      border-radius:16px;
      font-size:14px;
      cursor:pointer;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      gap:8px;
      transition: transform .06s ease, background .2s ease, border-color .2s ease, box-shadow .2s ease;
      user-select:none;
      backdrop-filter: blur(8px);
    }
    button:hover, a.btn:hover{
      background: rgba(255,255,255,.10);
      border-color: rgba(255,255,255,.26);
    }
    button:active, a.btn:active{transform: translateY(1px)}
    .primary{
      border-color: rgba(110,231,255,.50);
      background:
        radial-gradient(240px 120px at 20% 20%, rgba(110,231,255,.18), transparent 55%),
        linear-gradient(180deg, rgba(110,231,255,.16), rgba(255,255,255,.06));
      box-shadow: 0 0 0 1px rgba(110,231,255,.14), 0 0 30px rgba(110,231,255,.14);
    }
    .pink{
      border-color: rgba(251,113,133,.40);
      background:
        radial-gradient(240px 120px at 20% 20%, rgba(251,113,133,.18), transparent 55%),
        linear-gradient(180deg, rgba(251,113,133,.14), rgba(255,255,255,.06));
      box-shadow: 0 0 0 1px rgba(251,113,133,.12), 0 0 28px rgba(251,113,133,.12);
    }
    .ghost{opacity:.9}
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Noto Sans Mono", "Courier New", monospace; font-size:12px}
    .hint{font-size:12px; color:var(--mut); margin-top:10px; line-height:1.65}
    .status{
      margin-top:12px;
      padding:12px 12px;
      border-radius:18px;
      border:1px dashed rgba(255,255,255,.20);
      background: rgba(0,0,0,.18);
      color: var(--mut);
      font-size:13px;
      line-height:1.65;
    }
    .status strong{color:var(--txt)}
    .ok{color:var(--ok)}
    .warn{color:var(--warn)}
    .mini{
      font-size:12px;
      color: var(--mut2);
      margin-top:8px;
      line-height:1.6;
    }
    .list{
      margin:10px 0 0;
      padding:0 0 0 18px;
      color:var(--mut);
      font-size:13px;
      line-height:1.75;
    }
    footer{margin-top:12px; color:rgba(255,255,255,.45); font-size:12px}

    /* ===== Modal ===== */
    .modal-backdrop{
      position:fixed; inset:0; display:none;
      background: rgba(0,0,0,.55);
      backdrop-filter: blur(6px);
      z-index: 50;
      align-items:center;
      justify-content:center;
      padding: 18px;
    }
    .modal{
      width: min(720px, 100%);
      border-radius: 24px;
      border:1px solid rgba(255,255,255,.18);
      background:
        radial-gradient(720px 280px at 20% 0%, rgba(110,231,255,.18), transparent 60%),
        radial-gradient(600px 240px at 90% 40%, rgba(167,139,250,.14), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.04));
      box-shadow: 0 24px 90px rgba(0,0,0,.6);
      padding: 16px;
      position:relative;
      overflow:hidden;
    }
    .modal h3{margin:0 0 6px; font-size:16px}
    .modal p{margin:0 0 10px; color:var(--mut); font-size:13px; line-height:1.7}
    .close{
      position:absolute; right:12px; top:12px;
      width:36px; height:36px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.06);
      cursor:pointer;
      display:flex; align-items:center; justify-content:center;
    }
    .close:hover{background:rgba(255,255,255,.10)}
    .toast{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      background: rgba(0,0,0,.35);
      border:1px solid rgba(255,255,255,.16);
      border-radius: 999px;
      padding: 10px 12px;
      color: rgba(255,255,255,.86);
      font-size: 13px;
      backdrop-filter: blur(10px);
      box-shadow: 0 12px 40px rgba(0,0,0,.35);
      display:none;
      z-index: 60;
    }
    .kbd{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Noto Sans Mono", "Courier New", monospace;
      font-size: 12px;
      padding: 2px 6px;
      border-radius: 8px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.82);
    }

    /* Reduce motion */
    @media (prefers-reduced-motion: reduce){
      .bg, .waves, .jelly, .gif-jelly { animation: none !important; }
      button, a.btn { transition: none !important; }
    }
  </style>
</head>

<body>
  <div class="waves"></div>
  <div class="bg"></div>

  <!-- Jellyfish background (CSS) -->
  <div class="jelly-swarm" id="swarm" aria-hidden="true"></div>

  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>Playlist Bridge <span class="pill">deep-sea pop âœ¨</span></h1>
          <div class="tag">â‘¡ ç›¸æ‰‹ã®ã‚¢ãƒ—ãƒªã«â€œåŒã˜ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆã‚’ä½œã‚‹â€ã‚’è»¸ã«ã€â‘  â€œãã®ã¾ã¾é–‹ãâ€ã‚‚ä¿é™ºã§ã€‚</div>
        </div>
      </div>
      <div class="pill">GitHub Pages / 1ãƒšãƒ¼ã‚¸ / ç„¡æ–™é‹ç”¨</div>
    </header>

    <div class="hero">
      <div class="spark"></div>
      <h2>URLè²¼ã‚‹ã ã‘ã€‚ã‚ã¨ã¯â€œç§»ä½â€ã•ã›ã‚‹ã€‚</h2>
      <p>
        ã“ã“ã«ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆURL â†’ <strong>â‘¡</strong>ã§TuneMyMusicã¸æœ€çŸ­ã§æµã™ï¼ˆç›¸æ‰‹ã¯è‡ªåˆ†ã®éŸ³æ¥½ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼‰ã€‚<br/>
        ã¨ã‚Šã‚ãˆãšè´ãç”¨ã«<strong>â‘ </strong>ã®å„ã‚¢ãƒ—ãƒªãƒœã‚¿ãƒ³ã‚‚ç½®ã„ã¨ãã€‚ã‚¯ãƒ©ã‚²ã¯â€¦å¢—ã‚„ã—ã¨ã„ãŸ ğŸª¼
      </p>
    </div>

    <main style="margin-top:14px;">
      <section class="card">
        <label for="plUrl">ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆURLï¼ˆApple Music / Spotify / YouTube Musicï¼‰</label>
        <input id="plUrl" type="url" placeholder="ä¾‹: https://open.spotify.com/playlist/... / https://music.apple.com/... / https://music.youtube.com/playlist?list=..." autocomplete="off" />

        <div class="row">
          <button class="primary" id="btnBuild">ãƒªãƒ³ã‚¯ç”Ÿæˆã™ã‚‹</button>
          <button class="ghost" id="btnClear">ã‚¯ãƒªã‚¢</button>
          <button class="ghost" id="btnDemo">ãƒ‡ãƒ¢</button>
        </div>

        <div id="status" class="status">
          çŠ¶æ…‹ï¼šã¾ã URLãŒå…¥ã£ã¦ãªã„ã‚ˆã€‚è²¼ã£ã¦ <span class="kbd">Enter</span> ã§ã‚‚OKã€‚
        </div>

        <div class="row" id="actions" style="display:none; margin-top:12px;">
          <!-- â‘¡ Main -->
          <button class="primary" id="btnHow">â‘¡ è‡ªåˆ†ã®éŸ³æ¥½ã‚¢ãƒ—ãƒªã«ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆã‚’ä½œã‚‹</button>
          <button class="pink" id="btnCopyShare">å…±æœ‰ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼ï¼ˆã“ã®ã‚µã‚¤ãƒˆï¼‰</button>

          <!-- â‘  Backup -->
          <a class="btn" id="btnOpen" href="#" target="_blank" rel="noopener">â‘  å…ƒURLã‚’é–‹ã</a>
          <a class="btn" id="btnApple" href="#" target="_blank" rel="noopener">Apple Music</a>
          <a class="btn" id="btnSpotify" href="#" target="_blank" rel="noopener">Spotify</a>
          <a class="btn" id="btnYTM" href="#" target="_blank" rel="noopener">YouTube Music</a>
        </div>

        <div class="hint">
          <strong class="ok">â‘¡ã®ä¸­èº«ï¼š</strong>
          TuneMyMusicã®ã€ŒShare playlists between music servicesã€æ©Ÿèƒ½ã¯ã€ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã¨å…±æœ‰ãƒšãƒ¼ã‚¸ã‚’ä½œã‚Œã¦ã€
          å‹é”ã¯ã€Œå…ƒã®ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆã‚’é–‹ãã€ã‹ã€Œè‡ªåˆ†ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¸ã‚¤ãƒ³ãƒãƒ¼ãƒˆã€ã§ãã‚‹ä»•çµ„ã¿ã€‚ :contentReference[oaicite:1]{index=1}
          <div class="mini">
            â€»ã“ã®ã‚µã‚¤ãƒˆã¯ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ã‚’æ‰±ã‚ãªã„ï¼ˆå®‰å¿ƒè¨­è¨ˆï¼‰ã€‚URLã‚’ã‚³ãƒ”ãƒ¼ï¼†æ¡ˆå†…ã™ã‚‹ã ã‘ã€‚
          </div>
        </div>
      </section>

      <aside class="card">
        <h3 style="margin:0 0 8px; font-size:16px;">ç›¸æ‰‹ãŒã‚„ã‚‹ã“ã¨ï¼ˆâ‘¡ï¼‰</h3>
        <ol class="list">
          <li>ã‚ãªãŸãŒã“ã®ãƒšãƒ¼ã‚¸ã§URLã‚’è²¼ã‚‹</li>
          <li><strong>ã€Œâ‘¡ è‡ªåˆ†ã®éŸ³æ¥½ã‚¢ãƒ—ãƒªã«ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆã‚’ä½œã‚‹ã€</strong>ã‚’æŠ¼ã™</li>
          <li>TuneMyMusicã§ã‚½ãƒ¼ã‚¹ï¼ˆå…ƒã‚µãƒ¼ãƒ“ã‚¹ï¼‰ã‚’é¸ã¶ â†’ URLè²¼ã‚‹</li>
          <li>ç›¸æ‰‹ãŒè»¢é€å…ˆã‚µãƒ¼ãƒ“ã‚¹ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦è¨±å¯</li>
          <li>ç›¸æ‰‹ã®ã‚¢ãƒ—ãƒªã«æ–°ã—ã„ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆãŒã§ãã‚‹</li>
        </ol>

        <div class="status" style="margin-top:12px;">
          <strong>ãƒ—ãƒTips</strong><br/>
          ã€Œå…±æœ‰ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼ï¼ˆã“ã®ã‚µã‚¤ãƒˆï¼‰ã€ã‚’é€ã‚Œã°ã€ç›¸æ‰‹ã¯é–‹ã„ãŸç¬é–“ã«URLãŒå…¥ã£ãŸçŠ¶æ…‹ã§ã‚¹ã‚¿ãƒ¼ãƒˆã§ãã‚‹ï¼ˆæ‰‹é–“æ¸›ã‚‹ï¼‰ã€‚
        </div>

        <footer>
          ğŸª¼ã‚¯ãƒ©ã‚²å¢—é‡ä¸­ï¼šã‚‚ã—â€œæœ¬ç‰©ã®GIFâ€ã‚‚ä½¿ã„ãŸã‘ã‚Œã°ã€<span class="mono">/assets</span>ã«ç½®ã„ã¦å‚æˆ¦ã•ã›ã‚‰ã‚Œã‚‹ï¼ˆä¸‹ã§è‡ªå‹•ã§è©¦ã™ï¼‰ã€‚
        </footer>
      </aside>
    </main>
  </div>

  <!-- Modal -->
  <div class="modal-backdrop" id="modalBackdrop" role="dialog" aria-modal="true" aria-label="TuneMyMusic guide">
    <div class="modal">
      <button class="close" id="btnClose" aria-label="close">âœ•</button>
      <h3>â‘¡ TuneMyMusicã§â€œåŒã˜ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆâ€ã‚’ä½œã‚‹ï¼ˆæœ€çŸ­æ‰‹é †ï¼‰</h3>
      <p>
        ã„ã¾è²¼ã£ãŸURLã¯ <strong>ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼</strong>ã—ã¦ã‚ã‚‹ã‚ˆã€‚TuneMyMusicã¸è¡Œã£ã¦ã€è²¼ã‚Šä»˜ã‘ã¦é€²ã‚ã¦ã­ã€‚
      </p>

      <div class="row" style="margin-top:10px;">
        <a class="btn primary" id="btnTMMShare" href="https://www.tunemymusic.com/features/share" target="_blank" rel="noopener">
          TuneMyMusicã®Shareã‚’é–‹ã
        </a>
        <a class="btn" id="btnTMMTransfer" href="https://www.tunemymusic.com/" target="_blank" rel="noopener">
          TuneMyMusicãƒˆãƒƒãƒ—ï¼ˆTransferï¼‰
        </a>
        <button class="btn pink" id="btnCopyURL">URLã‚’ã‚‚ã†ä¸€å›ã‚³ãƒ”ãƒ¼</button>
      </div>

      <div class="status" style="margin-top:12px;">
        <strong>è²¼ã‚Šä»˜ã‘å…ˆï¼š</strong> TuneMyMusicå´ã§ã€ŒUpload your music by copying the playlist link â€¦ã€ã®æµã‚Œã§OKã€‚ :contentReference[oaicite:2]{index=2}
        <div class="mini">
          <span class="warn">æ³¨æ„ï¼š</span> TuneMyMusicã«URLã‚’â€œè‡ªå‹•æ³¨å…¥â€ã™ã‚‹å…¬å¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯å…¬é–‹ä»•æ§˜ã¨ã—ã¦ç¢ºè¨¼ãŒå–ã‚Œãªã‹ã£ãŸã®ã§ã€
          ã‚ãˆã¦ã€Œç¢ºå®Ÿã«å‹•ãæœ€çŸ­å°ç·šã€ã«ã—ã¦ã‚‹ï¼ˆå£Šã‚Œã«ãã„ï¼‰ã€‚
        </div>
      </div>
    </div>
  </div>

  <div class="toast" id="toast">ã‚³ãƒ”ãƒ¼ã—ãŸã‚ˆ</div>

<script>
(function(){
  const elUrl = document.getElementById('plUrl');
  const status = document.getElementById('status');
  const actions = document.getElementById('actions');

  const btnBuild = document.getElementById('btnBuild');
  const btnClear = document.getElementById('btnClear');
  const btnDemo  = document.getElementById('btnDemo');

  const btnHow = document.getElementById('btnHow');
  const btnCopyShare = document.getElementById('btnCopyShare');

  const btnOpen  = document.getElementById('btnOpen');
  const btnApple = document.getElementById('btnApple');
  const btnSpotify = document.getElementById('btnSpotify');
  const btnYTM   = document.getElementById('btnYTM');

  const modalBackdrop = document.getElementById('modalBackdrop');
  const btnClose = document.getElementById('btnClose');
  const btnTMMShare = document.getElementById('btnTMMShare');
  const btnTMMTransfer = document.getElementById('btnTMMTransfer');
  const btnCopyURL = document.getElementById('btnCopyURL');

  const toast = document.getElementById('toast');

  // === Jellyfish generation (lots) ===
  const swarm = document.getElementById('swarm');
  function rand(min, max){ return Math.random() * (max - min) + min; }

  function createJelly(xPct, size){
    const d = document.createElement('div');
    d.className = 'jelly';
    d.style.left = xPct + '%';
    d.style.width = size + 'px';
    d.style.height = Math.round(size * 1.25) + 'px';

    const dur = rand(16, 36);
    const delay = rand(-dur, 0);
    d.style.animationDuration = dur + 's';
    d.style.animationDelay = delay + 's';
    d.style.opacity = rand(0.35, 0.95);
    d.style.filter = 'drop-shadow(0 14px 20px rgba(0,0,0,.35)) blur(' + rand(0, 0.6) + 'px)';

    const bell = document.createElement('div');
    bell.className = 'bell';
    const tent = document.createElement('div');
    tent.className = 'tentacles';
    for(let i=0;i<4;i++){
      const t = document.createElement('div');
      t.className = 't';
      t.style.height = Math.round(size * rand(0.45, 0.7)) + 'px';
      t.style.opacity = rand(0.55, 0.95);
      tent.appendChild(t);
    }
    d.appendChild(bell);
    d.appendChild(tent);
    return d;
  }

  function seedSwarm(){
    // CSS jellyfish (always works)
    const count = window.matchMedia('(max-width: 900px)').matches ? 14 : 22;
    swarm.innerHTML = '';
    for(let i=0;i<count;i++){
      const x = rand(3, 97);
      const size = rand(44, 92);
      swarm.appendChild(createJelly(x, size));
    }

    // OPTIONAL: real GIF jellyfish (if user places files in /assets)
    // Put your gifs here:
    const gifPaths = [
      'assets/jelly1.gif',
      'assets/jelly2.gif',
      'assets/jelly3.gif',
      'assets/jelly4.gif'
    ];

    // We'll try to add a few; if 404, browser just won't show them (no harm).
    const gifCount = window.matchMedia('(max-width: 900px)').matches ? 4 : 7;
    for(let i=0;i<gifCount;i++){
      const img = document.createElement('img');
      img.className = 'gif-jelly';
      img.src = gifPaths[i % gifPaths.length];
      img.alt = '';
      img.style.left = rand(0, 100) + '%';
      img.style.width = rand(60, 110) + 'px';
      img.style.height = 'auto';
      const dur = rand(18, 44);
      img.style.animationDuration = dur + 's';
      img.style.animationDelay = rand(-dur, 0) + 's';
      img.style.opacity = rand(0.18, 0.55);
      swarm.appendChild(img);
    }
  }
  seedSwarm();
  window.addEventListener('resize', ()=>{ seedSwarm(); }, {passive:true});

  // === Utils ===
  function escapeHtml(s){
    return s.replace(/[&<>"']/g, c => ({
      '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;'
    }[c]));
  }
  function safeURL(u){
    try{
      const url = new URL(u);
      if(!/^https?:$/.test(url.protocol)) return null;
      return url.toString();
    }catch(e){
      return null;
    }
  }
  function detectPlatform(u){
    const url = new URL(u);
    const host = url.hostname.toLowerCase();

    if(host.includes('spotify.com')) return 'spotify';
    if(host.includes('music.apple.com')) return 'apple';
    if(host.includes('music.youtube.com')) return 'ytm';
    if(host.includes('youtube.com') && url.pathname.includes('/playlist')) return 'ytm';
    return 'unknown';
  }

  function toastShow(msg){
    toast.textContent = msg;
    toast.style.display = 'block';
    clearTimeout(toast._t);
    toast._t = setTimeout(()=>{ toast.style.display = 'none'; }, 1800);
  }

  async function copyText(txt){
    try{
      await navigator.clipboard.writeText(txt);
      toastShow('ã‚³ãƒ”ãƒ¼ã—ãŸã‚ˆ');
      return true;
    }catch(e){
      // fallback
      const ta = document.createElement('textarea');
      ta.value = txt;
      ta.style.position = 'fixed';
      ta.style.left = '-9999px';
      document.body.appendChild(ta);
      ta.select();
      try{
        document.execCommand('copy');
        toastShow('ã‚³ãƒ”ãƒ¼ã—ãŸã‚ˆ');
        document.body.removeChild(ta);
        return true;
      }catch(_){
        document.body.removeChild(ta);
        toastShow('ã‚³ãƒ”ãƒ¼å¤±æ•—ï¼ˆæ‰‹å‹•ã§ã‚³ãƒ”ãƒ¼ã—ã¦ã­ï¼‰');
        return false;
      }
    }
  }

  function setOGUrlIfEmpty(){
    const og = document.querySelector('meta[property="og:url"]');
    if(og && (!og.getAttribute('content') || og.getAttribute('content') === '')){
      og.setAttribute('content', location.origin + location.pathname);
    }
  }
  setOGUrlIfEmpty();

  // === Main build ===
  function buildLinks(u){
    const platform = detectPlatform(u);

    // â‘  Original
    btnOpen.href = u;

    // â‘  Per-service
    btnApple.href  = (platform === 'apple')  ? u : 'https://music.apple.com/';
    btnSpotify.href= (platform === 'spotify')? u : 'https://open.spotify.com/';
    btnYTM.href    = (platform === 'ytm')    ? u : 'https://music.youtube.com/';

    const pLabel = ({
      apple:'Apple Music',
      spotify:'Spotify',
      ytm:'YouTube Music',
      unknown:'ä¸æ˜ï¼ˆã§ã‚‚OKï¼‰'
    })[platform];

    status.innerHTML =
      'æ¤œå‡ºï¼š<strong>' + pLabel + '</strong><br/>' +
      'æ¬¡ã¯ <strong>â‘¡</strong> ã‚’æŠ¼ã™ã ã‘ã€‚URLã¯è‡ªå‹•ã§ã‚³ãƒ”ãƒ¼ã™ã‚‹ã‚ˆã€‚<br/>' +
      '<span class="mono">' + escapeHtml(u) + '</span>';

    actions.style.display = 'flex';

    // Auto copy playlist URL for TMM flow
    copyText(u);

    // Save current
    window.__PB = { playlistUrl: u, platform };
  }

  function openModal(){
    modalBackdrop.style.display = 'flex';
  }
  function closeModal(){
    modalBackdrop.style.display = 'none';
  }

  // === Event handlers ===
  btnBuild.addEventListener('click', ()=>{
    const u = safeURL(elUrl.value.trim());
    if(!u){
      actions.style.display = 'none';
      status.innerHTML = '<span class="warn">URLãŒæ­£ã—ããªã„ã£ã½ã„ã€‚</span> https:// ã‹ã‚‰å§‹ã¾ã‚‹ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆURLã‚’è²¼ã£ã¦ã­ã€‚';
      return;
    }
    buildLinks(u);
  });

  btnClear.addEventListener('click', ()=>{
    elUrl.value = '';
    actions.style.display = 'none';
    status.textContent = 'çŠ¶æ…‹ï¼šã‚¯ãƒªã‚¢ã—ãŸã‚ˆã€‚URLè²¼ã£ã¦ã€œ';
    elUrl.focus();
    window.__PB = null;
  });

  btnDemo.addEventListener('click', ()=>{
    elUrl.value = 'https://open.spotify.com/playlist/37i9dQZF1DXcBWIGoYBM5M';
    btnBuild.click();
  });

  elUrl.addEventListener('keydown', (e)=>{
    if(e.key === 'Enter') btnBuild.click();
  });

  // â‘¡ button: show instructions and open TMM share page option
  btnHow.addEventListener('click', ()=>{
    if(!window.__PB?.playlistUrl){
      toastShow('ã¾ãšURLã‚’è²¼ã£ã¦ã­');
      return;
    }
    // ensure copied
    copyText(window.__PB.playlistUrl);
    openModal();
  });

  btnClose.addEventListener('click', closeModal);
  modalBackdrop.addEventListener('click', (e)=>{
    if(e.target === modalBackdrop) closeModal();
  });

  btnCopyURL.addEventListener('click', ()=>{
    if(window.__PB?.playlistUrl) copyText(window.__PB.playlistUrl);
  });

  // Share link of THIS site (prefilled url)
  btnCopyShare.addEventListener('click', async ()=>{
    const u = window.__PB?.playlistUrl;
    if(!u){ toastShow('ã¾ãšURLã‚’è²¼ã£ã¦ã­'); return; }
    const shareUrl = location.origin + location.pathname + '?url=' + encodeURIComponent(u);
    await copyText(shareUrl);
    status.innerHTML =
      '<strong class="ok">å…±æœ‰ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼ã—ãŸã‚ˆã€‚</strong><br/>' +
      'ç›¸æ‰‹ã«ã“ã®URLã‚’é€ã‚Œã°ã€é–‹ã„ãŸç¬é–“ã«ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆURLãŒå…¥åŠ›æ¸ˆã¿ã«ãªã‚‹ã€‚<br/>' +
      '<span class="mono">' + escapeHtml(shareUrl) + '</span>';
  });

  // Prefill from ?url=
  (function prefill(){
    const params = new URLSearchParams(location.search);
    const u = params.get('url');
    if(!u) return;
    const safe = safeURL(u);
    if(!safe) return;
    elUrl.value = safe;
    buildLinks(safe);
    toastShow('URLã‚’è‡ªå‹•å…¥åŠ›ã—ãŸã‚ˆ');
  })();

})();
</script>
</body>
</html>
